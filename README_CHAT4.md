# üìò README –ß–∞—Ç 4: –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä –¥–∞–Ω–Ω—ã—Ö + –ì—Ä–∞—Ñ–∏–∫–∏

## üéØ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –ß–∞—Ç–µ 4

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
1. ‚úÖ **DataAnalyzer.cs** - –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–µ–π –Ω–æ—Ä–º
2. ‚úÖ **InteractiveAnalyzer.cs** - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∞–Ω–∞–ª–∏–∑–∞
3. ‚úÖ **PlotBuilder.cs** - –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–æ–≤ (ScottPlot –≤–º–µ—Å—Ç–æ Plotly)
4. ‚úÖ **VisualizationSection.cs** - GUI —Å–µ–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥—Ä–∞—Ñ–∏–∫–æ–≤
5. ‚úÖ **MainWindow.cs** - –æ–±–Ω–æ–≤–ª–µ–Ω —Å –ø–æ–ª–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –∞–Ω–∞–ª–∏–∑–∞

### –ü—Ä–æ–≥—Ä–µ—Å—Å –º–∏–≥—Ä–∞—Ü–∏–∏:
```
‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë‚ñë 55%
```
- –ß–∞—Ç 1: 10% ‚úÖ
- –ß–∞—Ç 2: 25% ‚úÖ
- –ß–∞—Ç 3: 40% ‚úÖ
- **–ß–∞—Ç 4: 55%** ‚úÖ ‚Üê **–¢–ï–ö–£–©–ò–ô**

---

## üì¶ –ù–æ–≤—ã–µ NuGet –ø–∞–∫–µ—Ç—ã

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ ScottPlot:
```bash
cd analysis_norm_c-sharp
dotnet add package ScottPlot
dotnet add package ScottPlot.WinForms
```

### –í—Å–µ –ø–∞–∫–µ—Ç—ã –¥–ª—è –ß–∞—Ç–∞ 4:
```bash
# –ò–∑ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —á–∞—Ç–æ–≤
dotnet add package Serilog
dotnet add package Serilog.Sinks.Console
dotnet add package Serilog.Sinks.File
dotnet add package Newtonsoft.Json
dotnet add package MathNet.Numerics
dotnet add package ClosedXML
dotnet add package HtmlAgilityPack
dotnet add package Microsoft.Data.Analysis
dotnet add package System.Text.Encoding.CodePages

# –ß–ê–¢ 4: –ù–æ–≤—ã–µ
dotnet add package ScottPlot
dotnet add package ScottPlot.WinForms
```

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –®–∞–≥ 1: –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤

```bash
# –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
mkdir -p analysis_norm_c-sharp/Analysis
mkdir -p analysis_norm_c-sharp/GUI/Components
mkdir -p analysis_norm_c-sharp/docs/chat4

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –ß–∞—Ç–∞ 4
cp /home/claude/Analysis/DataAnalyzer.cs analysis_norm_c-sharp/Analysis/
cp /home/claude/Analysis/InteractiveAnalyzer.cs analysis_norm_c-sharp/Analysis/
cp /home/claude/Analysis/PlotBuilder.cs analysis_norm_c-sharp/Analysis/
cp /home/claude/GUI/Components/VisualizationSection.cs analysis_norm_c-sharp/GUI/Components/
cp /home/claude/GUI/MainWindow_Chat4.cs analysis_norm_c-sharp/GUI/MainWindow.cs

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
cp /home/claude/README_CHAT4.md analysis_norm_c-sharp/
```

### –®–∞–≥ 2: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ ControlSection.cs

–î–æ–±–∞–≤—å—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã –≤ –∫–æ–Ω–µ—Ü –∫–ª–∞—Å—Å–∞ `ControlSection` (—Ñ–∞–π–ª `GUI/Components/ControlSection.cs`):

```csharp
/// <summary>
/// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—É—é –Ω–æ—Ä–º—É (–∏–ª–∏ null –µ—Å–ª–∏ –Ω–µ –≤—ã–±—Ä–∞–Ω–∞)
/// –ß–ê–¢ 4: –ù–æ–≤—ã–π –º–µ—Ç–æ–¥
/// </summary>
public string? GetSelectedNorm()
{
    if (_normComboBox.Enabled && _normComboBox.SelectedIndex >= 0)
    {
        return _normComboBox.SelectedItem?.ToString();
    }
    return null;
}

/// <summary>
/// –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—ã–±—Ä–∞–Ω–Ω—ã–π —É—á–∞—Å—Ç–æ–∫ (–∏–ª–∏ null –µ—Å–ª–∏ –Ω–µ –≤—ã–±—Ä–∞–Ω)
/// –ß–ê–¢ 4: –ù–æ–≤—ã–π –º–µ—Ç–æ–¥
/// </summary>
public string? GetSelectedSection()
{
    if (_sectionComboBox.Enabled && _sectionComboBox.SelectedIndex >= 0)
    {
        return _sectionComboBox.SelectedItem?.ToString();
    }
    return null;
}
```

### –®–∞–≥ 3: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø–∞–∫–µ—Ç–æ–≤

```bash
cd analysis_norm_c-sharp
dotnet add package ScottPlot
dotnet add package ScottPlot.WinForms
dotnet restore
```

### –®–∞–≥ 4: –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫

```bash
dotnet build
dotnet run
```

---

## üéÆ –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

### –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∞–Ω–∞–ª–∏–∑–∞:

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤** (–ß–∞—Ç 3)
   - –í—ã–±–æ—Ä HTML —Ñ–∞–π–ª–æ–≤ –º–∞—Ä—à—Ä—É—Ç–æ–≤
   - –ü–∞—Ä—Å–∏–Ω–≥ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ DataFrame
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —É—á–∞—Å—Ç–∫–æ–≤

2. **–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–æ—Ä–º** (–ß–∞—Ç 3)
   - –í—ã–±–æ—Ä HTML —Ñ–∞–π–ª–æ–≤ –Ω–æ—Ä–º
   - –ü–∞—Ä—Å–∏–Ω–≥ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ NormStorage
   - –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –Ω–æ—Ä–º

3. **‚ú® –ù–û–í–û–ï: –ê–Ω–∞–ª–∏–∑ —É—á–∞—Å—Ç–∫–∞** (–ß–∞—Ç 4)
   - –í—ã–±–æ—Ä —É—á–∞—Å—Ç–∫–∞ –∏–∑ —Å–ø–∏—Å–∫–∞
   - –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –Ω–æ—Ä–º—ã
   - –†–µ–∂–∏–º "–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —É—á–∞—Å—Ç–æ–∫"
   - –ù–∞–∂–∞—Ç–∏–µ –∫–Ω–æ–ø–∫–∏ "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å"

4. **‚ú® –ù–û–í–û–ï: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è** (–ß–∞—Ç 4)
   - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞ —Å –∫—Ä–∏–≤—ã–º–∏ –Ω–æ—Ä–º
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ—á–µ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–≠–∫–æ–Ω–æ–º–∏—è/–ù–æ—Ä–º–∞/–ü–µ—Ä–µ—Ä–∞—Å—Ö–æ–¥)
   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å ScottPlot (zoom, pan)
   - –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

5. **‚ú® –ù–û–í–û–ï: –≠–∫—Å–ø–æ—Ä—Ç –≥—Ä–∞—Ñ–∏–∫–∞** (–ß–∞—Ç 4)
   - –≠–∫—Å–ø–æ—Ä—Ç –≥—Ä–∞—Ñ–∏–∫–∞ –≤ PNG
   - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å –≤—ã–±–æ—Ä–æ–º –ø—É—Ç–∏

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ß–∞—Ç–∞ 4

### Flow –∞–Ω–∞–ª–∏–∑–∞:

```
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å"
   ‚Üì
2. ControlSection ‚Üí OnAnalyzeRequested event
   ‚Üì
3. MainWindow.ControlSection_OnAnalyzeRequested()
   ‚Üì
4. InteractiveAnalyzer.AnalyzeSection()
   ‚îú‚îÄ‚Üí DataAnalyzer.AnalyzeSectionData()
   ‚îÇ    ‚îú‚îÄ‚Üí NormStorage.GetNormFunction()
   ‚îÇ    ‚îî‚îÄ‚Üí –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –∏ —Ä–∞—Å—á–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–π
   ‚îî‚îÄ‚Üí PlotBuilder.CreateInteractivePlot()
        ‚îî‚îÄ‚Üí ScottPlot graph
   ‚Üì
5. MainWindow –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
   ‚îú‚îÄ‚Üí VisualizationSection.DisplayPlot(plot)
   ‚îú‚îÄ‚Üí VisualizationSection.DisplayStatistics(stats)
   ‚îî‚îÄ‚Üí ControlSection.UpdateStatistics(stats)
```

### –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:

```
InteractiveAnalyzer (–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–æ—Ä)
    ‚îÇ
    ‚îú‚îÄ‚Üí RouteProcessor (–∏–∑ –ß–∞—Ç–∞ 3)
    ‚îú‚îÄ‚Üí NormProcessor (–∏–∑ –ß–∞—Ç–∞ 3)
    ‚îú‚îÄ‚Üí NormStorage (–∏–∑ –ß–∞—Ç–∞ 2)
    ‚îú‚îÄ‚Üí DataAnalyzer (–Ω–æ–≤—ã–π)
    ‚îÇ    ‚îî‚îÄ‚Üí RouteDataAnalyzer
    ‚îÇ         ‚îî‚îÄ‚Üí –ò–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è –Ω–æ—Ä–º
    ‚îî‚îÄ‚Üí PlotBuilder (–Ω–æ–≤—ã–π)
         ‚îî‚îÄ‚Üí ScottPlot
```

---

## üîç –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

### 1. DataAnalyzer.cs (~350 —Å—Ç—Ä–æ–∫)

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `AnalyzeSectionData()` - –≥–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥ –∞–Ω–∞–ª–∏–∑–∞
- `CreateNormFunctions()` - —Å–æ–∑–¥–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏–∏
- `InterpolateAndCalculate()` - –∏–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä—É–µ—Ç –Ω–æ—Ä–º—ã –∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è
- `CalculateStatistics()` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–ª—É—á–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–æ—Ä–º –∏–∑ NormStorage
- –ò–Ω—Ç–µ—Ä–ø–æ–ª–∏—Ä—É–µ—Ç –Ω–æ—Ä–º—ã –¥–ª—è –∫–∞–∂–¥–æ–π —Ç–æ—á–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∞
- –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏—è (%)
- –ö–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç—É—Å—ã (–≠–∫–æ–Ω–æ–º–∏—è/–ù–æ—Ä–º–∞/–ü–µ—Ä–µ—Ä–∞—Å—Ö–æ–¥)

### 2. InteractiveAnalyzer.cs (~450 —Å—Ç—Ä–æ–∫)

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `LoadRoutesFromHtml()` - –∑–∞–≥—Ä—É–∑–∫–∞ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- `LoadNormsFromHtml()` - –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–æ—Ä–º
- `AnalyzeSection()` - –∞–Ω–∞–ª–∏–∑ —É—á–∞—Å—Ç–∫–∞
- `BuildSectionsNormsMap()` - –∫–∞—Ä—Ç–∞ —É—á–∞—Å—Ç–∫–æ–≤ ‚Üí –Ω–æ—Ä–º—ã
- `GetAvailableSections()` - —Å–ø–∏—Å–æ–∫ —É—á–∞—Å—Ç–∫–æ–≤

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ö–æ–æ—Ä–¥–∏–Ω–∏—Ä—É–µ—Ç –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –°—Ç—Ä–æ–∏—Ç –∫–∞—Ä—Ç—ã —É—á–∞—Å—Ç–∫–æ–≤ –∏ –Ω–æ—Ä–º
- –í—ã–ø–æ–ª–Ω—è–µ—Ç –∞–Ω–∞–ª–∏–∑ —Å –≤—ã–∑–æ–≤–æ–º DataAnalyzer –∏ PlotBuilder
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞

### 3. PlotBuilder.cs (~400 —Å—Ç—Ä–æ–∫)

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `CreateInteractivePlot()` - —Å–æ–∑–¥–∞–Ω–∏–µ –≥—Ä–∞—Ñ–∏–∫–∞
- `AddNormCurves()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫—Ä–∏–≤—ã—Ö –Ω–æ—Ä–º
- `AddRoutePoints()` - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–æ—á–µ–∫ –º–∞—Ä—à—Ä—É—Ç–æ–≤
- `GroupPointsByStatus()` - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–æ–∑–¥–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫ ScottPlot
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫—Ä–∏–≤—ã–µ –Ω–æ—Ä–º (–∏–Ω—Ç–µ—Ä–ø–æ–ª—è—Ü–∏—è)
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Ç–æ—á–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ —Å —Ü–≤–µ—Ç–æ–≤—ã–º –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ª–µ–≥–µ–Ω–¥—É –∏ –æ—Å–∏

**–û—Ç–ª–∏—á–∏—è –æ—Ç Python (Plotly):**
- Python –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Plotly (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π HTML)
- C# –∏—Å–ø–æ–ª—å–∑—É–µ—Ç ScottPlot (WinForms –∫–æ–Ω—Ç—Ä–æ–ª)
- –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (zoom, pan) –≤—Å—Ç—Ä–æ–µ–Ω–∞ –≤ ScottPlot
- –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –ø–æ –∫–ª–∏–∫—É ‚Üí –±—É–¥–µ—Ç –≤ –ß–∞—Ç–µ 6

### 4. VisualizationSection.cs (~250 —Å—Ç—Ä–æ–∫)

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
- `DisplayPlot()` - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫
- `DisplayStatistics()` - –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- `ExportButton_Click()` - —ç–∫—Å–ø–æ—Ä—Ç –≤ PNG

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –°–æ–¥–µ—Ä–∂–∏—Ç FormsPlot –∫–æ–Ω—Ç—Ä–æ–ª
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –≥—Ä–∞—Ñ–∏–∫ –æ—Ç PlotBuilder
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ TextBox
- –≠–∫—Å–ø–æ—Ä—Ç –≥—Ä–∞—Ñ–∏–∫–∞

### 5. MainWindow.cs (–æ–±–Ω–æ–≤–ª–µ–Ω, ~650 —Å—Ç—Ä–æ–∫)

**–ö–ª—é—á–µ–≤—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `_analyzer` (InteractiveAnalyzer)
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `_plotBuilder` (PlotBuilder)
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `_visualizationSection` (GUI)
- `ControlSection_OnAnalyzeRequested()` - –ü–û–õ–ù–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø –∞–Ω–∞–ª–∏–∑–∞
- –û–±–Ω–æ–≤–ª–µ–Ω—ã `FileSection_OnRoutesLoaded()` –∏ `FileSection_OnNormsLoaded()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `_analyzer`

---

## üé® ScottPlot vs Plotly

### –ü–æ—á–µ–º—É ScottPlot?

| –ö—Ä–∏—Ç–µ—Ä–∏–π | Plotly (Python) | ScottPlot (C#) | –í—ã–±–æ—Ä |
|----------|----------------|----------------|-------|
| –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ | Web (HTML) | WinForms/WPF | ‚úÖ ScottPlot |
| –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è | –°–ª–æ–∂–Ω–∞—è | –ù–∞—Ç–∏–≤–Ω–∞—è | ‚úÖ ScottPlot |
| –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∞—è | ‚úÖ ScottPlot |
| –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å | –í—ã—Å–æ–∫–∞—è | –°—Ä–µ–¥–Ω—è—è | ‚ö†Ô∏è Plotly |
| –ü—Ä–æ—Å—Ç–æ—Ç–∞ | –°–ª–æ–∂–Ω–∞—è | –ü—Ä–æ—Å—Ç–∞—è | ‚úÖ ScottPlot |

**–†–µ—à–µ–Ω–∏–µ:** ScottPlot –ø—Ä–æ—â–µ –≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –¥–æ—Å—Ç–∞—Ç–æ—á–µ–Ω –¥–ª—è –ß–∞—Ç–∞ 4. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∞ –≤ –ß–∞—Ç–µ 6.

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∞–Ω–∞–ª–∏–∑–∞

1. –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ó–∞–≥—Ä—É–∑–∏—Ç—å HTML –º–∞—Ä—à—Ä—É—Ç—ã (2-3 —Ñ–∞–π–ª–∞)
3. –ó–∞–≥—Ä—É–∑–∏—Ç—å HTML –Ω–æ—Ä–º—ã (2-3 —Ñ–∞–π–ª–∞)
4. –í—ã–±—Ä–∞—Ç—å —É—á–∞—Å—Ç–æ–∫ –∏–∑ —Å–ø–∏—Å–∫–∞
5. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –í—ã–±—Ä–∞—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –Ω–æ—Ä–º—É
6. –ù–∞–∂–∞—Ç—å "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å"
7. **–û–∂–∏–¥–∞–µ—Ç—Å—è:**
   - –ì—Ä–∞—Ñ–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø—Ä–∞–≤–æ–π —Å–µ–∫—Ü–∏–∏
   - –ö—Ä–∏–≤—ã–µ –Ω–æ—Ä–º (—Å–∏–Ω—è—è, —Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è –∏ —Ç.–¥.)
   - –¢–æ—á–∫–∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤ (–∑–µ–ª–µ–Ω—ã–µ/–æ—Ä–∞–Ω–∂–µ–≤—ã–µ/–∫—Ä–∞—Å–Ω—ã–µ)
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–æ–π –∏ –ø—Ä–∞–≤–æ–π —Å–µ–∫—Ü–∏—è—Ö
   - –ö–Ω–æ–ø–∫–∞ "–≠–∫—Å–ø–æ—Ä—Ç PNG" –∞–∫—Ç–∏–≤–Ω–∞

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –≠–∫—Å–ø–æ—Ä—Ç –≥—Ä–∞—Ñ–∏–∫–∞

1. –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
2. –ù–∞–∂–∞—Ç—å "–≠–∫—Å–ø–æ—Ä—Ç PNG"
3. –í—ã–±—Ä–∞—Ç—å –ø—É—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
4. **–û–∂–∏–¥–∞–µ—Ç—Å—è:**
   - –§–∞–π–ª PNG —Å–æ–∑–¥–∞–Ω (1920x1080)
   - –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –†–µ–∂–∏–º "–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —É—á–∞—Å—Ç–æ–∫"

1. –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
2. –í—ã–±—Ä–∞—Ç—å —É—á–∞—Å—Ç–æ–∫
3. –í–∫–ª—é—á–∏—Ç—å —á–µ–∫–±–æ–∫—Å "–¢–æ–ª—å–∫–æ –æ–¥–∏–Ω —É—á–∞—Å—Ç–æ–∫"
4. –ù–∞–∂–∞—Ç—å "–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å"
5. **–û–∂–∏–¥–∞–µ—Ç—Å—è:**
   - –û—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω—ã —Ç–æ–ª—å–∫–æ –º–∞—Ä—à—Ä—É—Ç—ã —Å –æ–¥–Ω–∏–º —É—á–∞—Å—Ç–∫–æ–º
   - –ì—Ä–∞—Ñ–∏–∫ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω—ã

---

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ß–∞—Ç–∞ 4

### –ß—Ç–æ –ù–ï —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–±—É–¥–µ—Ç –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —á–∞—Ç–∞—Ö):

1. **–§–∏–ª—å—Ç—Ä –ª–æ–∫–æ–º–æ—Ç–∏–≤–æ–≤** (–ß–∞—Ç 5)
   - –ö–Ω–æ–ø–∫–∞ "–§–∏–ª—å—Ç—Ä –ª–æ–∫–æ–º–æ—Ç–∏–≤–æ–≤" - –∑–∞–≥–ª—É—à–∫–∞
   - LocomotiveSelectorDialog

2. **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤** (–ß–∞—Ç 5)
   - CoefficientsApplier - –∑–∞–≥–ª—É—à–∫–∞
   - –ö–Ω–æ–ø–∫–∞ "–ó–∞–≥—Ä—É–∑–∏—Ç—å –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç—ã" —Ä–∞–±–æ—Ç–∞–µ—Ç —á–∞—Å—Ç–∏—á–Ω–æ

3. **–ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –ø–æ –∫–ª–∏–∫—É –Ω–∞ —Ç–æ—á–∫—É** (–ß–∞—Ç 6)
   - Python: click ‚Üí modal window —Å –¥–µ—Ç–∞–ª—è–º–∏
   - C#: –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ —Å–æ–±—ã—Ç–∏—è ScottPlot

4. **–≠–∫—Å–ø–æ—Ä—Ç –≤ Excel** (–ß–∞—Ç 7)
   - RouteProcessor.ExportToExcel() - TODO

5. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–æ—Ä–º–∞–º–∏** (–ß–∞—Ç 7)
   - NormManagementDialog - TODO

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ß–∞—Ç–∞ 4

### –ù–æ–≤—ã–µ —Ñ–∞–π–ª—ã:
| –§–∞–π–ª | –°—Ç—Ä–æ–∫ | –§—É–Ω–∫—Ü–∏–π | –°—Ç–∞—Ç—É—Å |
|------|-------|---------|--------|
| DataAnalyzer.cs | ~350 | 8 | ‚úÖ 100% |
| InteractiveAnalyzer.cs | ~450 | 12 | ‚úÖ 100% |
| PlotBuilder.cs | ~400 | 10 | ‚úÖ 100% |
| VisualizationSection.cs | ~250 | 8 | ‚úÖ 100% |
| MainWindow (–æ–±–Ω–æ–≤–ª–µ–Ω) | +150 | +3 | ‚úÖ 100% |
| **–ò–¢–û–ì–û** | **~1600** | **~41** | **‚úÖ 100%** |

### –û–±—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å:
- –ß–∞—Ç 1: 865 —Å—Ç—Ä–æ–∫ (10%) ‚úÖ
- –ß–∞—Ç 2: 1955 —Å—Ç—Ä–æ–∫ (25%) ‚úÖ
- –ß–∞—Ç 3: 2000 —Å—Ç—Ä–æ–∫ (40%) ‚úÖ
- **–ß–∞—Ç 4: 1600 —Å—Ç—Ä–æ–∫ (55%)** ‚úÖ ‚Üê **–¢–ï–ö–£–©–ò–ô**
- **–ò—Ç–æ–≥–æ: 6420 —Å—Ç—Ä–æ–∫**

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–ß–∞—Ç 5)

### –ß—Ç–æ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
1. **LocomotiveSelectorDialog** - –¥–∏–∞–ª–æ–≥ –≤—ã–±–æ—Ä–∞ –ª–æ–∫–æ–º–æ—Ç–∏–≤–æ–≤
2. **CoefficientsApplier** - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç–æ–≤ –∫ –¥–∞–Ω–Ω—ã–º
3. **LogSection** - —Å–µ–∫—Ü–∏—è –ª–æ–≥–æ–≤ –≤ GUI
4. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞** - –ø–æ–ª–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
5. **–£–ª—É—á—à–µ–Ω–∏—è MainWindow** - –º–µ–Ω—é –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã

---

## üêõ –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞: "ScottPlot not found"
```bash
dotnet add package ScottPlot
dotnet add package ScottPlot.WinForms
dotnet restore
```

### –û—à–∏–±–∫–∞: "GetSelectedNorm not found"
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –¥–æ–±–∞–≤–∏–ª–∏ –º–µ—Ç–æ–¥—ã `GetSelectedNorm()` –∏ `GetSelectedSection()` –≤ `ControlSection.cs`

### –ì—Ä–∞—Ñ–∏–∫ –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `logs/app.log`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –º–∞—Ä—à—Ä—É—Ç—ã –∏ –Ω–æ—Ä–º—ã –∑–∞–≥—Ä—É–∂–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —É—á–∞—Å—Ç–æ–∫ –≤—ã–±—Ä–∞–Ω –≤ dropdown

### –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ MainWindow.cs
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ using –¥–∏—Ä–µ–∫—Ç–∏–≤—ã:
```csharp
using ScottPlot;
using AnalysisNorm.Analysis;
```

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **README_CHAT4.md** (—ç—Ç–æ—Ç —Ñ–∞–π–ª) - –æ–±—â–∏–π –æ–±–∑–æ—Ä
- **MIGRATION_LOG.md** - –¥–µ—Ç–∞–ª—å–Ω—ã–π –ª–æ–≥ –º–∏–≥—Ä–∞—Ü–∏–∏
- XML –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ
- –†–µ—Ñ–µ—Ä–µ–Ω—Å—ã –Ω–∞ Python –≤ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è—Ö

---

## üéä –ß–∞—Ç 4 –∑–∞–≤–µ—Ä—à–µ–Ω –Ω–∞ 100%!

**–ö–ª—é—á–µ–≤–æ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ:** –ü–æ–ª–Ω—ã–π –∞–Ω–∞–ª–∏–∑ —É—á–∞—Å—Ç–∫–∞ —Å –≥—Ä–∞—Ñ–∏–∫–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç!

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ß–∞—Ç—É 5:** ‚úÖ –ü–æ–ª–Ω–∞—è

---

**–î–∞—Ç–∞:** 2025-10-05  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ß–∞—Ç 4 –∑–∞–≤–µ—Ä—à–µ–Ω  
**–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~6420 (—Å—É–º–º–∞—Ä–Ω–æ)  
**–ü—Ä–æ–≥—Ä–µ—Å—Å:** 55%
